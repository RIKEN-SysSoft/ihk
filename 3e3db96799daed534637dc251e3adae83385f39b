{
  "comments": [
    {
      "key": {
        "uuid": "7a62f99f_e5b635a2",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 248,
      "author": {
        "id": 1003556
      },
      "writtenOn": "2019-01-29T05:00:02Z",
      "side": 1,
      "message": "Might be interesting to either return n or at least if we had wanted to write more than len (n \u003e\u003d len check), even if we don\u0027t use it yet.",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4b8751d_6a9093a3",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 263,
      "author": {
        "id": 1003556
      },
      "writtenOn": "2019-01-29T05:00:02Z",
      "side": 1,
      "message": "Sorry, I know I suggested this but there\u0027s a problem with this: snprintf returns the length that would have been written if it fits, so if it is too big n will be \u003e len eventually; but the \"size\" argument of snprintf is a size_t (unsigned) so it will incorrectly think there is room to write.\n\nI probably have added incorrect code in the past (for e.g. procfs), will fix that later... Sorry for the incomplete advice.\n\nFor this, depending on what we return (overflow bool or full length) I would either check-and-return immediately after each snprintf, or use an intermediate variable conditionally decremented for len, or use ternary `len - n \u003e 0 ? len - n : 0` but that isn\u0027t pretty.\n\nThis applies to other functions using n +\u003d snprintf() below as well",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab7051ff_746e6ac2",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 1718,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_cpus) {\n+\t\tpr_err(\"%s: error: allocating request cpus\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9fea04a_cfd1beb3",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 1794,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_cpus) {\n+\t\tpr_err(\"%s: error: allocating request cpus\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44607f48_cc88a214",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 1970,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Prefer kmalloc_array over kmalloc with multiply\n+\treq_src_cpus \u003d kmalloc(sizeof(int) * req.num_cpus, GFP_KERNEL);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "794d97ce_5fd18aad",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 1972,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_src_cpus) {\n+\t\tpr_err(\"%s: error: allocating request src_cpus\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e92ea957_6dea88cb",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 1985,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_dst_cpus) {\n+\t\tpr_err(\"%s: error: allocating request dst_cpus\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "554d8d5a_fb78079f",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 2067,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!res_src_cpus) {\n+\t\tpr_err(\"%s: error: allocating request src_cpus\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6439d4a_cb1212a6",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 2073,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!res_dst_cpus) {\n+\t\tpr_err(\"%s: error: allocating request dst_cpus\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae8d7fc7_d7a0115d",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 2372,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_sizes) {\n+\t\tpr_err(\"%s: error: allocating request sizes\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "505028c2_634f615c",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 2378,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_numa_ids) {\n+\t\tpr_err(\"%s: error: allocating request numa_ids\\n\",",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f8c81d_66a5aad1",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 2437,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Prefer kmalloc_array over kmalloc with multiply\n+\treq_sizes \u003d kmalloc(sizeof(size_t) * req.num_chunks, GFP_KERNEL);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7095829c_c6c3d5ad",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 2440,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Prefer kmalloc_array over kmalloc with multiply\n+\treq_numa_ids \u003d kmalloc(sizeof(int) * req.num_chunks, GFP_KERNEL);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24690e85_6dbae8f0",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 3478,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_cpus) {\n+\t\tpr_err(\"%s: error: allocating request cpus\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "02a1ee01_d8f522e9",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 3811,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_sizes) {\n+\t\tpr_err(\"%s: error: allocating request sizes\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90b9d011_1b51ddf9",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 3817,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible unnecessary \u0027out of memory\u0027 message\n+\tif (!req_numa_ids) {\n+\t\tpr_err(\"%s: error: allocating request numa_ids\\n\", __func__);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ada5d77_c10f2c67",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 3882,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Prefer kmalloc_array over kmalloc with multiply\n+\treq_sizes \u003d kmalloc(sizeof(size_t) * req.num_chunks, GFP_KERNEL);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86dfe34f_ea9b130b",
        "filename": "linux/driver/smp/smp-driver.c",
        "patchSetId": 3
      },
      "lineNbr": 3885,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Prefer kmalloc_array over kmalloc with multiply\n+\treq_numa_ids \u003d kmalloc(sizeof(int) * req.num_chunks, GFP_KERNEL);",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfe03b59_9144c920",
        "filename": "linux/user/ihklib.c",
        "patchSetId": 3
      },
      "lineNbr": 80,
      "author": {
        "id": 1003556
      },
      "writtenOn": "2019-01-29T05:00:02Z",
      "side": 1,
      "message": "(nitpick) I don\u0027t like dead code - let\u0027s just remove the old function; if someone needs it later they can get it back from git.",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a705927_c5f1363f",
        "filename": "linux/user/ihklib.c",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1003556
      },
      "writtenOn": "2019-01-29T05:00:02Z",
      "side": 1,
      "message": "We already know how big we need here, so instead of looping on vsnprintf why not just loop on *size *\u003d 2 ?",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6ba9e40_2261c199",
        "filename": "linux/user/ihklib.c",
        "patchSetId": 3
      },
      "lineNbr": 362,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: Possible switch case/default not preceded by break or fallthrough comment\n+\tdefault:",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dced5333_599c0b19",
        "filename": "linux/user/ihklib.c",
        "patchSetId": 3
      },
      "lineNbr": 564,
      "author": {
        "id": 1014954
      },
      "writtenOn": "2019-01-18T01:29:35Z",
      "side": 1,
      "message": "WARNING: line over 80 characters\n+\t\t\t\teprintf(\"%s: error: allocating ikc_sset_members\\n\",",
      "revId": "3e3db96799daed534637dc251e3adae83385f39b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}